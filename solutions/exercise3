actions/index

export const VALUE_SELECTED = 'VALUE_SELECTED';

export const valueSelected = (event) => {
  return {
    type: VALUE_SELECTED,
    newValue: event.target.value,
  }
}


=====================================
=====================================
=====================================
components/ExerciseThree.js

import * as React from 'react';

// This component should stay "dumb"
// It should not have it's own state and should only use props
class ExerciseThree extends React.Component {
    render() {
        const { newValue, oldValue, valueSelected } = this.props;
        return (
            <div>
                <h1>Exercise 3</h1>
                <div style={{marginBottom: '5px'}}>Old value: {oldValue}</div>
                <div style={{marginBottom: '5px'}}>New value: {newValue}</div>
                <div>
                    <label>
                        <select name="select" value={newValue} onChange={valueSelected}>
                            <option value="">Select me</option>
                            <option value="blue">Blue</option>
                            <option value="white">White</option>
                            <option value="red">Red</option>
                        </select>
                    </label>
                </div>
            </div>
        );
    }
}

ExerciseThree.propTypes = {
    newValue: React.PropTypes.string.isRequired,
    oldValue: React.PropTypes.string.isRequired,
    valueSelected: React.PropTypes.func.isRequired,
};

export default ExerciseThree;


=====================================
=====================================
=====================================
containers/IntelligentExerciseThree.js


import { connect } from 'react-redux';
import ExerciseThree from '../components/ExerciseThree';
import * as actions from '../actions';

const mapStateToProps = (state) => {
    return {
        oldValue: state.exercise3.oldValue,
        newValue: state.exercise3.newValue,
    };
};

const mapDispatchToProps = (dispatch) => {
    return {
        valueSelected: (event) => {
            dispatch(actions.valueSelected(event));
        },
    };
};

const IntelligentExerciseThree = connect(
    mapStateToProps,
    mapDispatchToProps
)(ExerciseThree);

export default IntelligentExerciseThree;


=====================================
=====================================
=====================================
reducers/exercise3.js


import { VALUE_SELECTED } from '../actions/';

const initialState = {
  oldValue: '',
  newValue: '',
};

// Just making this to show how it works with external functions
// here we just assign vars but we could do more complex operations
const changeValues = (state, action) => {
    const oldValue = state.newValue;
    const newValue = action.newValue;
    return Object.assign({}, state, {
      oldValue: oldValue,
      newValue: newValue,
    });
};

const exercise = (state = initialState, action) => {
  switch (action.type) {
    case VALUE_SELECTED:
      return changeValues(state, action);
    default:
      return state
  }
}

export default exercise

